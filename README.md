PackingLineMonitor - Эмулятор фасовочной линии 

## Как запустить эмулятор и нормализатор

Для запуска эмулятора и нормализатора необходимо:
Перейти в корневую папку в терминале, выполнить команды `docker -compose up -d` а затем `dotnet run --project .\src\PackingLineMonitor.Presentation`

## Реализованные статусы линии

В рамках проекта предусмотены следующие статусы:

- NoData — данные от линии отсутствуют (не поступали более 30 секунд).

- Stopped — линия остановлена, значение счётчика не изменяется.

- LowSpeed — линия работает, но скорость ниже допустимого порога.

- Running — линия работает в нормальном режиме.

## Логика порогов, остановок и пониженной скорости
### Номинальные значения

NominalSpeed = 10000 ед/ч

NominalSpeedLimit = 95% номинальной скорости = 9500 ед/ч

### Расчёт скорости

Скорость рассчитывается по измерениям счётчика, собранным в очередь(размер очереди можно менять для более тонкой настройки).
Используются только уникальные значения счётчика, что позволяет корректно определять движение линии:

Скорость = (количество уникальных измерений / прошедшие секунды) * 3600

Условия определения статусов

| Условие                                                      | Статус   |
|--------------------------------------------------------------| -------- |
| Новые данные не поступают > 30 секунд                        | NoData   |
| Все последние N измерений имеют одинаковое значение счетчика | Stopped  |
| Скорость < 9500 шт/ч                                         | LowSpeed |
| Иначе                                                        | Running  |


## Как запросить данные
### Текущий статус линии

Эндпоинт: GET /api/line/status

Описание:

Использует INormalizationService.GetLineStatus().

Возвращает структуру с текущим статусом, скоростью и временем.

### Статистика линии (агрегаты за период)

Эндпоинт:

GET /api/line/stats?period={periodInHours}

Параметры:

period — целое число, задающее период в часах для агрегирования данных.

Описание:
Возвращает структуру с агрегированной статистикой 

## Как смоделирована ситуация с отсутствием данных

Моделирование отсутствия данных реализовано через таймаут получения измерений:

если в течение 30 секунд не приходит новые измерение, то устанавливает статус NoData, отправляет событие об изменении статуса.